---
title: "Bipin"
output: html_document
date: "2022-11-19"
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
footballgames <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-04/games.csv')

##### derive categorical variable #####
# replace NA's in tie column with string 0
footballgames$tie[is.na(footballgames$tie)] <- "0"
# replace ties with string 1 instead of string with team name
for(i in 1:5324){
  if(footballgames$tie[i] != "0"){
    footballgames$tie[i] <- "1"
    i < i+1
  }
  else{
    i <- i+1
  }
}

# treat tie as categorical
footballgames$tie <- as.factor(footballgames$tie)


# get structure to check if tie is not a factor
str(footballgames)

```

#Filter out the data for games played by New England Patriots

```{r}
bbdata<-subset(footballgames, home_team=="New England Patriots"|away_team=="New England Patriots")

library(tidyverse)
library(magrittr)
library(dplyr)
library(ggplot2)
ggdata<-bbdata %>% group_by(year) %>% count(winner)

fdata<-subset(ggdata, winner=="New England Patriots")

plot1<-ggplot(data=fdata, aes(x=year, y=n))+geom_line()
plot1
```








